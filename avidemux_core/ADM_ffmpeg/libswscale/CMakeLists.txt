SET(ADM_LIB ADM_libswscale)
SET(${ADM_LIB}_SRCS swscale.c yuv2rgb.c rgb2rgb.c ADM_mp.cpp swscale_avoption.c)

IF (ADM_CPU_ALTIVEC)
	SET(${ADM_LIB}_SRCS ${${ADM_LIB}_SRCS} yuv2rgb_altivec.c)
ENDIF (ADM_CPU_ALTIVEC)

ADD_LIBRARY(${ADM_LIB} SHARED ${${ADM_LIB}_SRCS})

IF (APPLE AND ADM_DEBUG)
	ADD_TARGET_CFLAGS(${ADM_LIB} -O2)
ENDIF (APPLE AND ADM_DEBUG)

TARGET_LINK_LIBRARIES(${ADM_LIB} ADM_core ADM_libavutil)

INSTALL(TARGETS ${ADM_LIB} RUNTIME DESTINATION ${BIN_DIR}  LIBRARY DESTINATION lib  ARCHIVE DESTINATION lib)
