diff --git a/avidemux_core/ADM_ffmpeg/libavformat/mpegtsenc.c b/avidemux_core/ADM_ffmpeg/libavformat/mpegtsenc.c
index ac09ab9..fe32325 100644
--- a/avidemux_core/ADM_ffmpeg/libavformat/mpegtsenc.c
+++ b/avidemux_core/ADM_ffmpeg/libavformat/mpegtsenc.c
@@ -947,3 +947,8 @@ AVOutputFormat mpegts_muxer = {
     mpegts_write_packet,
     mpegts_write_end,
 };
+int mpegtsenc_init(void)
+{
+    av_register_output_format(&mpegts_muxer);
+    return 0;
+}
\ No newline at end of file
