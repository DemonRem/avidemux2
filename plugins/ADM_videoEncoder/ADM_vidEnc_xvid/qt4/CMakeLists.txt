INCLUDE(admCheckQt4)
INCLUDE(admPluginVideoEncoder)

checkQt4()

IF (QT4_FOUND)
	SET(ADM_vidEnc_xvid_Qt_SRCS xvidConfigDialog.cpp)

	INCLUDE_DIRECTORIES(${QT_INCLUDE_DIR} ${AVIDEMUX_SOURCE_DIR}/avidemux)
	ADD_LIBRARY(${QT_PLUGIN_NAME} SHARED ${ADM_vidEnc_xvid_Qt_SRCS})
	TARGET_LINK_LIBRARIES(${QT_PLUGIN_NAME} ADM_vidEnc_xvid ADM_coreUI ${QT_QTGUI_LIBRARY} ${QT_QTCORE_LIBRARY})

	INIT_VIDEO_ENCODER_PLUGIN(ADM_vidEnc_xvid_Qt)
	INSTALL(TARGETS ADM_vidEnc_xvid_Qt DESTINATION "${CMAKE_INSTALL_PREFIX}/lib/ADM_plugins/videoEncoder/${PLUGIN_SUBDIR}")
ENDIF (QT4_FOUND)